-- 仙玉商城商品处理函数修改版
-- 为所有给予道具调用添加共享参数=false，解决商城购买物品直接进入共享背包的问题

function 仙玉商城商品处理(id,名称,数量,参数,附加,专用)
    if 玩家数据[id] then
        if 名称=="高级兽决" then
            local 兽决列表={"连击","必杀","吸血","偷袭","夜战","感知","神佑复生","慧根","驱鬼","幸运","反震","防御","敏捷","冥思","招架","永恒","反制","精神集中","再生","隐身","雷属性吸收","土属性吸收","水属性吸收","火属性吸收","迟钝","否定信仰","魔之心","法爆","法连","法波","法术认证","奔雷咒","泰山压顶","水漫金山","地狱烈火","上古灵符","高级连击","高级必杀","高级吸血","高级偷袭","高级夜战","高级感知","高级神佑复生","高级慧根","高级驱鬼","高级幸运","高级反震","高级防御","高级敏捷","高级冥思","高级招架","高级永恒","高级反制","高级精神集中","高级再生","高级隐身","高级雷属性吸收","高级土属性吸收","高级水属性吸收","高级火属性吸收","高级迟钝","高级否定信仰","高级魔之心","高级法爆","高级法连","高级法波","高级法术认证","高级奔雷咒","高级泰山压顶","高级水漫金山","高级地狱烈火","高级上古灵符"}
            数量=取随机数(1,数量)
            local 技能=兽决列表[取随机数(1,表长度(兽决列表))]
            玩家数据[id].道具:给予道具(id,"魔兽要诀",1,nil,nil,nil,false)
            设置技能(玩家数据[id].道具[表长度(玩家数据[id].道具)],技能)
        elseif 名称=="五宝" then
            local 五宝列表={"金刚石","定魂珠","夜光珠","龙鳞","避水珠"}
            数量=取随机数(1,数量)
            local 物品=五宝列表[取随机数(1,表长度(五宝列表))]
            玩家数据[id].道具:给予道具(id,物品,数量,nil,nil,nil,false)
        elseif 名称=="强化石" then
            local 强化石列表={"月亮石","光芒石","太阳石","舍利子","黑宝石","红玛瑙","神秘石","翡翠石","躲避石"}
            local 物品=强化石列表[取随机数(1,表长度(强化石列表))]
            玩家数据[id].道具:给予道具(id,物品,数量,nil,nil,nil,false)
        elseif 名称=="100打造书" then
            玩家数据[id].道具:给予书铁(id,{10,10},1)
        elseif 名称=="100级精铁" then
            玩家数据[id].道具:给予书铁(id,{10,10},2)
        elseif 名称=="110打造书" then
            玩家数据[id].道具:给予书铁(id,{11,11},1)
        elseif 名称=="110级精铁" then
            玩家数据[id].道具:给予书铁(id,{11,11},2)
        elseif 名称=="120打造书" then
            玩家数据[id].道具:给予书铁(id,{12,12},1)
        elseif 名称=="120级精铁" then
            玩家数据[id].道具:给予书铁(id,{12,12},2)
        elseif 名称=="130打造书" then
            玩家数据[id].道具:给予书铁(id,{13,13},1)
        elseif 名称=="130级精铁" then
            玩家数据[id].道具:给予书铁(id,{13,13},2)
        elseif 名称=="140打造书" then
            玩家数据[id].道具:给予书铁(id,{14,14},1)
        elseif 名称=="140级精铁" then
            玩家数据[id].道具:给予书铁(id,{14,14},2)
        elseif 名称=="150打造书" then
            玩家数据[id].道具:给予书铁(id,{15,15},1)
        elseif 名称=="150级精铁" then
            玩家数据[id].道具:给予书铁(id,{15,15},2)
        elseif 名称=="160打造书" then
            玩家数据[id].道具:给予书铁(id,{16,16},1)
        elseif 名称=="160级精铁" then
            玩家数据[id].道具:给予书铁(id,{16,16},2)
        elseif 名称=="60灵饰书" then
            玩家数据[id].道具:给予道具(id,"灵饰指南书",{6},nil,nil,nil,false)
        elseif 名称=="80灵饰书" then
            玩家数据[id].道具:给予道具(id,"灵饰指南书",{8},nil,nil,nil,false)
        elseif 名称=="100灵饰书" then
            玩家数据[id].道具:给予道具(id,"灵饰指南书",{10},nil,nil,nil,false)
        elseif 名称=="120灵饰书" then
            玩家数据[id].道具:给予道具(id,"灵饰指南书",{12},nil,nil,nil,false)
        elseif 名称=="140灵饰书" then
            玩家数据[id].道具:给予道具(id,"灵饰指南书",{14},nil,nil,nil,false)
        elseif 名称=="160灵饰书" then
            玩家数据[id].道具:给予道具(id,"灵饰指南书",{16},nil,nil,nil,false)
        elseif 名称=="60灵饰铁" then
            玩家数据[id].道具:给予道具(id,"元灵晶石",{6},nil,nil,nil,false)
        elseif 名称=="80灵饰铁" then
            玩家数据[id].道具:给予道具(id,"元灵晶石",{8},nil,nil,nil,false)
        elseif 名称=="100灵饰铁" then
            玩家数据[id].道具:给予道具(id,"元灵晶石",{10},nil,nil,nil,false)
        elseif 名称=="120灵饰铁" then
            玩家数据[id].道具:给予道具(id,"元灵晶石",{12},nil,nil,nil,false)
        elseif 名称=="140灵饰铁" then
            玩家数据[id].道具:给予道具(id,"元灵晶石",{14},nil,nil,nil,false)
        elseif 名称=="160灵饰铁" then
            玩家数据[id].道具:给予道具(id,"元灵晶石",{16},nil,nil,nil,false)
        else
            玩家数据[id].道具:给予道具(id,名称,数量,参数,附加,专用,false)
        end
    end
end